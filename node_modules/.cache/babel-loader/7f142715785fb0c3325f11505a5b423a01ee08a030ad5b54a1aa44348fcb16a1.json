{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\incre\\\\OneDrive\\\\Documents\\\\Full Stack Project\\\\full-stack-project-frontend\\\\src\\\\components\\\\containers\\\\EditStudentContainer.js\";\nimport Header from './Header';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport EditStudentView from '../views/EditStudentView';\nimport { editStudentThunk, fetchAllCampusesThunk, fetchStudentThunk } from '../../store/thunks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass EditStudentContainer extends Component {\n  constructor(props) {\n    super(props);\n    // Capture input data when it is entered\n    this.handleChange = event => {\n      console.log(event.target);\n      if (event.target.name === \"imageUrl\") {\n        this.setState({\n          [event.target.name]: event.target.value,\n          tempurl: event.target.value\n        });\n      } else {\n        this.setState({\n          [event.target.name]: event.target.value\n        });\n      }\n    };\n    this.handleSubmit = async event => {\n      event.preventDefault(); // Prevent browser reload/refresh after submit.\n\n      if (this.state.firstname === \"\" || this.state.lastname === \"\" || this.state.email === \"\") {\n        alert(\"Missing Information\");\n        return;\n      }\n      let student = {\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        campusId: this.state.campusId,\n        campus: this.props.allCampuses.find(campus => campus.id === this.state.campusId) || {},\n        id: this.props.student.id,\n        email: this.state.email,\n        gpa: this.state.gpa,\n        imageUrl: this.state.imageUrl\n      };\n      let editStudent = await this.props.editStudent(student);\n      console.log(editStudent);\n      this.setState({\n        firstname: \"\",\n        lastname: \"\",\n        campusId: null,\n        campus: null,\n        id: null,\n        email: \"\",\n        gpa: null,\n        imageUrl: \"\",\n        redirect: true,\n        redirectId: this.props.student.id\n      });\n    };\n    console.log(this.props.student);\n    this.state = {\n      firstname: this.props.student.firstname,\n      lastname: this.props.student.lastname,\n      id: this.props.student.id,\n      campusId: null,\n      campus: this.props.student.campus,\n      email: this.props.student.email,\n      gpa: this.props.student.gpa,\n      imageUrl: this.props.student.imageUrl,\n      redirect: false,\n      redirectId: null,\n      tempurl: this.props.student.imageUrl\n    };\n  }\n  async componentDidMount() {\n    try {\n      await this.props.fetchAllCampuses();\n      await this.props.fetchStudent(this.props.match.params.id);\n      console.log(this.props);\n      if (this.props.allCampuses && this.props.allCampuses.length > 0) {\n        //initialize selected campus to first campus\n        this.setState({\n          campusId: this.props.allCampuses[0].id\n        });\n      }\n    } catch (error) {\n      console.error(\"Error fetching campuses:\", error);\n    }\n  }\n  componentWillUnmount() {\n    this.setState({\n      redirect: false,\n      redirectId: null\n    });\n  }\n  render() {\n    // Redirect to student's page after submit\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: `/student/${this.state.redirectId}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }, this);\n    }\n\n    // Display the input form via the corresponding View component\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(EditStudentView, {\n        student: this.props.student,\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        campuses: this.props.allCampuses,\n        tempurl: this.state.tempurl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }, this);\n  }\n}\nconst mapDispatch = dispatch => {\n  return {\n    fetchStudent: id => dispatch(fetchStudentThunk(id)),\n    fetchAllCampuses: () => dispatch(fetchAllCampusesThunk()),\n    editStudent: student => dispatch(editStudentThunk(student))\n  };\n};\nconst mapState = state => ({\n  allCampuses: state.allCampuses,\n  // Adjust based on your Redux state structure\n  student: state.student\n});\nexport default connect(mapState, mapDispatch)(EditStudentContainer);","map":{"version":3,"names":["Header","Component","connect","Redirect","EditStudentView","editStudentThunk","fetchAllCampusesThunk","fetchStudentThunk","jsxDEV","_jsxDEV","EditStudentContainer","constructor","props","handleChange","event","console","log","target","name","setState","value","tempurl","handleSubmit","preventDefault","state","firstname","lastname","email","alert","student","campusId","campus","allCampuses","find","id","gpa","imageUrl","editStudent","redirect","redirectId","componentDidMount","fetchAllCampuses","fetchStudent","match","params","length","error","componentWillUnmount","render","to","fileName","_jsxFileName","lineNumber","columnNumber","children","campuses","mapDispatch","dispatch","mapState"],"sources":["C:/Users/incre/OneDrive/Documents/Full Stack Project/full-stack-project-frontend/src/components/containers/EditStudentContainer.js"],"sourcesContent":["import Header from './Header';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport EditStudentView from '../views/EditStudentView';\r\nimport { editStudentThunk, fetchAllCampusesThunk, fetchStudentThunk } from '../../store/thunks';\r\n\r\nclass EditStudentContainer extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props.student);\r\n        this.state = {\r\n            firstname: this.props.student.firstname, \r\n            lastname: this.props.student.lastname, \r\n            id: this.props.student.id,\r\n            campusId: null, \r\n            campus:this.props.student.campus,\r\n            email: this.props.student.email,\r\n            gpa: this.props.student.gpa,\r\n            imageUrl: this.props.student.imageUrl,\r\n            redirect: false, \r\n            redirectId: null,\r\n            tempurl: this.props.student.imageUrl\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            await this.props.fetchAllCampuses();\r\n            await this.props.fetchStudent(this.props.match.params.id);\r\n            console.log(this.props);\r\n            if (this.props.allCampuses && this.props.allCampuses.length > 0) { //initialize selected campus to first campus\r\n                this.setState({\r\n                    campusId: this.props.allCampuses[0].id,\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching campuses:\", error);\r\n        }\r\n    }\r\n\r\n    // Capture input data when it is entered\r\n    handleChange = event => {\r\n        console.log(event.target);\r\n        if(event.target.name === \"imageUrl\"){\r\n            this.setState({\r\n                [event.target.name]: event.target.value,\r\n                tempurl: event.target.value\r\n            })\r\n        }else{\r\n            this.setState({\r\n                [event.target.name]: event.target.value\r\n            });\r\n        }\r\n    }\r\n    handleSubmit = async event => {\r\n        event.preventDefault();  // Prevent browser reload/refresh after submit.\r\n    \r\n        if(this.state.firstname === \"\" || this.state.lastname === \"\" || this.state.email === \"\") {\r\n          alert(\"Missing Information\");\r\n          return;\r\n        }\r\n        let student = {\r\n            firstname: this.state.firstname,\r\n            lastname: this.state.lastname,\r\n            campusId: this.state.campusId,\r\n            campus: this.props.allCampuses.find(campus => campus.id === this.state.campusId) || {}, \r\n            id: this.props.student.id,\r\n            email: this.state.email,\r\n            gpa: this.state.gpa,\r\n            imageUrl: this.state.imageUrl\r\n        };\r\n\r\n        let editStudent = await this.props.editStudent(student);\r\n        console.log(editStudent);\r\n\r\n        this.setState({\r\n            firstname: \"\", \r\n            lastname: \"\", \r\n            campusId: null,\r\n            campus:null,\r\n            id: null, \r\n            email: \"\",\r\n            gpa: null,\r\n            imageUrl: \"\",\r\n            redirect: true, \r\n            redirectId: this.props.student.id\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState({redirect: false, redirectId: null});\r\n    }\r\n    render() {\r\n        // Redirect to student's page after submit\r\n        if(this.state.redirect) {\r\n          return (<Redirect to={`/student/${this.state.redirectId}`}/>)\r\n        }\r\n    \r\n        // Display the input form via the corresponding View component\r\n        return (\r\n          <div>\r\n            <Header />\r\n            <EditStudentView \r\n              student = {this.props.student}\r\n              handleChange = {this.handleChange} \r\n              handleSubmit={this.handleSubmit}    \r\n              campuses={this.props.allCampuses} \r\n              tempurl={this.state.tempurl}\r\n            />\r\n          </div>          \r\n        );\r\n      }\r\n}\r\n\r\nconst mapDispatch = (dispatch) => {\r\n    return({\r\n        fetchStudent: (id) => dispatch(fetchStudentThunk(id)),\r\n        fetchAllCampuses: () => dispatch(fetchAllCampusesThunk()),\r\n        editStudent: (student) => dispatch(editStudentThunk(student)),\r\n    })\r\n}\r\n\r\nconst mapState = state => ({\r\n    allCampuses: state.allCampuses, // Adjust based on your Redux state structure\r\n    student: state.student,\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(EditStudentContainer);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}